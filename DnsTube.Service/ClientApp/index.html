<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<link rel="icon" type="image/ico" href="/dnstube.ico" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<title>DnsTube</title>

	</head>
	<body>

		<!-- header -->
		<div class="container">
			<article class="content border">
				<nav>
					<ul>
						<li><strong class="title">DnsTube v2.4</strong></li>
					</ul>
					<ul>
						<li><a role="button" href="/index.html"
								aria-current="page">Home</a></li>
						<li><a href="/settings.html">Settings</a></li>
					</ul>
				</nav>
			</article>

			<div class="content">

				<article style="padding-bottom: 2px;">
					<!-- body -->
					<!-- IP address info -->
					<h4>IP Address</h4>
					<article id="ipAddressInfoSpinner" class="hidden" aria-busy="true">Updating
						IP address…</article>

					<form class="grid" id="ipAddressInfo">
						<div class="hidden" id="public-ipv4-info">
							<label for="colFormLabel" class="ip-address-label">Public IPv4</label>
							<div>
								<input type="text" id="public-ipv4" readonly>
							</div>
						</div>
						<div class="hidden" id="public-ipv6-info">
							<label for="colFormLabel" class="ip-address-label">Public IPv6</label>
							<div>
								<input type="text" id="public-ipv6" readonly
									value="">
							</div>
						</div>
						<div>
							<label for="colFormLabel" class="ip-address-label">Last Updated</label>
							<div>
								<input type="text" id="lastUpdate" readonly>
								<small class="input-sub-hint" id="lastUpdateRelative"></small>
							</div>
						</div>
						<div>
							<label for="colFormLabel" class="ip-address-label">Next Update
								<a href="javascript:" id="dnsUpdate" role="button" class="outline
									small-button">update now</a>
							</label>
							<div>
								<input type="text" id="nextUpdate" readonly>
								<small class="input-sub-hint" id="nextUpdateRelative"></small>
							</div>
						</div>
					</form>
				</article>

				<!-- Cloudflare DNS entries -->
				<article style="padding-bottom: 2px;">
					<h4 style="display:inline-block;">Cloudflare DNS Entries</h4>
					<a href="javascript:" id="entries-refetch" role="button" class="outline
						small-button">refetch</a>
					<article id="dnsEntriesSpinner" class="hidden" aria-busy="true">Fetching
						Cloudflare DNS Entries…</article>

					<div id="dnsEntriesContainer" class="hidden">
						<div>
							<small class="hint">Select the entries to update</small>
						</div>
						<table>
							<thead>
								<tr>
									<th scope="col">Update</th>
									<th scope="col">Type</th>
									<th scope="col">Name</th>
									<th scope="col">Address</th>
									<th scope="col" id="ttlHeader">TTL</th>
									<th scope="col">Proxied</th>
								</tr>
							</thead>
							<tbody id="dnsEntriesBody"></tbody>
						</table>

					</div>
				</article>

				<!-- log -->
				<article style="padding-bottom: 6px;">
					<h4 style="display:inline-block;">Log</h4>
					<a href="javascript:" id="log-clear" role="button" class="outline
						small-button">clear</a>

					<table id="log-table">
						<thead>
							<tr>
								<th scope="col" style="width: 207px;">Date</th>
								<th scope="col">Message</th>
								<th scope="col">Type</th>
							</tr>
						</thead>
						<tbody id="log-table-body"></tbody>
					</table>
					<button id="log-load-more">Load More</button>
				</article>

				<!-- footer -->
				<hr />
				<nav>
					<ul style="margin: auto; padding: 0;">
						<li><a href="https://github.com/drittich/DnsTube">GitHub</a></li>
						<li><a href="https://github.com/drittich/DnsTube/blob/main/LICENSE">License</a></li>
						<li><a href="https://github.com/drittich/DnsTube/releases">Releases</a></li>
						<li><a href="https://github.com/drittich/DnsTube/issues">Bug Report</a></li>
					</ul>
				</nav>
			</div>
		</div>

		<script type="module" src="/src/controllers/main.ts" async></script>

	</body>
</html>
