<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<link rel="icon" type="image/ico" href="/dnstube.ico" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<title>DnsTube</title>

	</head>
	<body>

		<!-- header -->
		<div class="container">
			<article class="content border">
				<nav>
					<ul>
						<li><strong class="title">DnsTube v2.3</strong></li>
					</ul>
					<ul>
						<li><a href="/index.html"
								aria-current="page">Home</a></li>
						<li><a role="button" href="/settings.html">Settings</a></li>
					</ul>
				</nav>
			</article>

			<div class="content">
				<article>
					<h4>Settings</h4>

					<small class="hint">
						To get a Cloudflare API token see <a
							href="https://developers.cloudflare.com/fundamentals/api/get-started/create-token/"
							target="_blank">Create an API token</a>
					</small>
					<br><br>

					<div>

						<form id="settings">
							<div>
								<label for="email">Email</label>
								<div>
									<input type="email" name="EmailAddress"
										id="emailAddress" placeholder="Enter your Cloudflare email address">
								</div>
							</div>

							<div>
								<label for="apiToken">Authorization Type</label>
								<span
									data-tooltip="Cloudflare supports both keys and tokens. Tokens are
									preferred for better security." data-placement="right" class="tooltip"><i
										class="fa-solid
										fa-circle-info"></i></span>
								<div style="padding-top:8px;">
									<div>
										<input type="radio" name="IsUsingToken"
											id="authorizationKey" value="false">
										<label for="authorizationKey">
											Use key
										</label>
									</div>
									<div>
										<input type="radio" name="IsUsingToken"
											id="authorizationToken" value="true">
										<label for="authorizationToken">
											Use token
										</label>
									</div>
								</div>
							</div>

							<div>
								<label for="apiKeyOrToken" id="apiKeyTokenLabel">Authorization Key/Token</label>
								<div>
									<input type="password" name="ApiKeyOrToken"
										id="apiKeyOrToken">
									<span id="togglePassword"><i class="fas fa-eye" style="margin-left:
											-48px;
											cursor: pointer;display:inline-block"></i></span>
								</div>
							</div>

							<div>
								<label for="zoneIDs">Zone IDs</label>
								<span data-tooltip="Filter for specific zones by adding them
									here, comma-separated" data-placement="right" class="tooltip"><i
										class="fa-solid
										fa-circle-info"></i></span>
								<div>
									<input type="text" name="ZoneIDs" id="zoneIDs">
								</div>
							</div>

							<div>
								<label for="apiToken">Protocol</label>
								<span data-tooltip="Which protocol to update DNS entries for"
									data-placement="right" class="tooltip"><i class="fa-solid
										fa-circle-info"></i></span>
								<div style="padding-top:8px;">
									<div>
										<input type="radio" name="ProtocolSupport"
											id="protocolIpv4" value="0">
										<label for="protocolIpv4">
											IPv4
										</label>
									</div>
									<div>
										<input type="radio" name="ProtocolSupport"
											id="protocolIpv6" value="1">
										<label for="protocolIpv6">
											IPv6
										</label>
									</div>
									<div>
										<input type="radio" name="ProtocolSupport"
											id="protocolBoth" value="2">
										<label for="protocolBoth">
											Both
										</label>
									</div>
								</div>
							</div>

							<div>
								<label for="ipv4Api">IPv4 API</label>
								<span data-tooltip="An endpoint that returns your IPv4 address in its
									response" data-placement="right" class="tooltip"><i class="fa-solid
										fa-circle-info"></i></span>
								<div>
									<input type="url" name="Ipv4_API" id="ipv4Api">
								</div>
							</div>
							<div>
								<label for="ipv6Api">IPv6 API</label>
								<span data-tooltip="An endpoint that returns your IPv6 address in its
									response" data-placement="right" class="tooltip"><i class="fa-solid
										fa-circle-info"></i></span>
								<div>
									<input type="url" name="Ipv6_API" id="ipv6Api">
								</div>
							</div>
							<div>
								<label for="updateIntervalMinutes">Update
									Interval (minutes)</label>
								<span data-tooltip="DnsTube will check and update your DNS if needed
									every N minutes." data-placement="right" class="tooltip"><i
										class="fa-solid fa-circle-info"></i></span>
								<div>
									<input type="number" name="UpdateIntervalMinutes"
										id="updateIntervalMinutes" value="30" min="1">
									<small>Changes to interval take effect the next time the timer fires.
										Click the <b>update now</b> button on the <a href="/index.html">Home</a>
										page to immediately change the schedule</small>
								</div>
							</div>

							<div>
								<label for="fruit">Network Adapter</label>
								<span
									data-tooltip="Select an interface to use for determining public IP address."
									data-placement="right" class="tooltip"><i
										class="fa-solid fa-circle-info"></i></span>
								<div>
									<select id="networkAdapter" name="NetworkAdapter"> </select>
								</div>
							</div>

							<div>
								<div>
									<input type="checkbox" name="NotifyOfUpdates" id="notifyOfUpdates"
										value="true">
									<label for="notifyOfUpdates">Check for DnsTube
										updates</label>
									<span data-tooltip="Will add a log entry on startup when a new version
										is available" data-placement="right" class="tooltip"><i
											class="fa-solid
											fa-circle-info"></i></span>
								</div>
							</div>

							<div style="margin-top: 24px;">
								<div>
									<a href="javascript:" role="button" style="width:200px"
										id="saveSettings">Save</a>
									<a href="/" role="button" style="width:200px" class="secondary"
										id="cancelSettings">Cancel</a>
								</div>
							</div>
						</form>
					</div>

					<small class="hint">
						Settings/logs are saved in a SQLite Db at: <code id="dbPath"></code>
					</small>
				</article>

				<hr />
				<nav>
					<ul style="margin: auto; padding: 0;">
						<li><a href="https://github.com/drittich/DnsTube">GitHub</a></li>
						<li><a href="https://github.com/drittich/DnsTube/blob/main/LICENSE">License</a></li>
						<li><a href="https://github.com/drittich/DnsTube/releases">Releases</a></li>
						<li><a href="https://github.com/drittich/DnsTube/issues">Bug Report</a></li>
					</ul>
				</nav>
			</div>
		</div>

		<script type="module" src="/src/controllers/settings.ts"></script>

	</body>
</html>
